# LinkShorter
Краткое описание
----------------
REST-сервис сокращения ссылок на Java.
Используемые фреймворки и библиотеки:
- Spring Boot (web, validation, security);
- Lombok;
- Azure Cosmos DB;
- Commons (lang3, validator);
- Guava;
- Tomcat;

Описание алгоритма генерации коротких имен
------------------------------------------
Генерация короткого имени происходит хешированием указанной ссылки при помощи Murmur Hash

Краткое описание классов 
------------------------
В корневом пакете проекта ```com.LinkShorter``` находится класс ```LinkShorterApplication```, содержащий в себе точку входа в приложение.

В пакете ```Controllers``` содержатся следующие классы:
- ```AzureCosmosDBController``` - контроллер, осуществляющий работу с удалённой базой данных Azure CosmosDB;
- ```LinkShorterController``` - контроллер, осуществляющий генерацию новых коротких ссылок;
- ```WebRedirectController``` - контроллер, позволяющий переадресовывать переходы по сгенерированным ссылкам;

В пакете ```Configs``` содержится класс:
- ```SecurityConfig``` - конфигуратор, обеспечивающий логику Basic авторизации 

В пакете ```Entities``` содержатся:
- ```GenerateRequest``` - класс-модель тела, которое передаётся при POST запросе;
- ```Link``` - класс-модель данных, хранящихся в базе данных;

Описание внешнего программного интерфейса
-----------------------------------------
### Генерация коротких ссылок
Для создания новой короткой ссылки необходимо послать POST-запрос на адрес ```/```:

В ключах запроса дожен находиться ключ и значение для Basic авторизации: 

```Key: Authorization, Value: Basic dXNlcm5hbWU6cGFzc3dvcmQxMjM=```

(При использовании Basic Auth в Postman: ```Username: username, Password: password123```)  

В теле запроса дожен находиться объект в формате JSON со строковым параметром ```link```. Этот параметр дожен удовлетворять следующим требованиям:
- не пустая строка;
- максимальный допустимый размер строки - 2000 символов;
- строка должна соответствовать формату URL с обязательным указанием протокола.
 
В ответе возвращается объект в котором указывается сгенерированная короткая ссылка.

В случаях если поле ```link``` будет иметь неверный формат, клиенту возвращается код ```400 Bad Request``` и короткая ссылка не будет создана.

### Переход по короткой ссылке
Для перехода по короткой ссылке необходимо вставить сгенерированную короткую ссылку в адресную строку любого браузера
